<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Archive</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root {
    --cream: #f7f4ef;
    --pink: #f2d6dc;
    --silver: #cfcfd4;
    --green: #a3c9a8;
    --yellow: #f7e29b;
    --red: #e2a3a6;
    --text: #3b3b3b;
  }

  body {
    font-family: 'Playfair Display', serif;
    background: var(--cream);
    padding: 2rem;
    color: var(--text);
  }

  h1 { margin-bottom: 0.2rem; }
  p { opacity: 0.7; }

  a { text-decoration: none; color: var(--text); }

  /* Tracker styles */
  .tracker {
    display: flex;
    justify-content: space-around;
    margin: 2rem 0;
    padding: 1rem;
    background: rgba(255,255,255,0.9);
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
  }

  .tracker div {
    text-align: center;
    flex: 1;
    margin: 0 0.5rem;
    padding: 1rem;
    border-radius: 12px;
    color: #3b3b3b;
    font-weight: 600;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
  }

  .green { background: var(--green); }
  .yellow { background: var(--yellow); }
  .red { background: var(--red); }

  .day {
    background:#fff;
    border-radius:12px;
    padding:1.5rem;
    margin-bottom:2rem;
    box-shadow:0 10px 30px rgba(0,0,0,0.08);
  }

  .task { margin-top:0.5rem; opacity:0.8; } 
  .done { text-decoration:line-through; opacity:0.5; }
</style>
</head>
<body>

<h1>Archive</h1>
<p><a href="index.html">← Back</a></p>

<!-- Day Tracker -->
<div class="tracker">
  <div class="green" id="greenCount">Green: 0</div>
  <div class="yellow" id="yellowCount">Yellow: 0</div>
  <div class="red" id="redCount">Red: 0</div>
</div>

<div id="archive"></div>

<script>
const data = JSON.parse(localStorage.getItem("archive")) || [];
const container = document.getElementById("archive");

// Counters
let green = 0, yellow = 0, red = 0;

data.slice().reverse().forEach(day => {
  // Count paths
  if(day.path === "green") green++;
  if(day.path === "yellow") yellow++;
  if(day.path === "red") red++;

  const div = document.createElement("div");
  div.className="day";
  div.innerHTML=`<h3>${day.date} — ${day.path.toUpperCase()}</h3>`;
  day.tasks.forEach(t=>{
    const p=document.createElement("div");
    p.className="task"+(t.done?" done":"");
    p.textContent=t.text;
    div.appendChild(p);
  });
  container.appendChild(div);
});

// Update tracker display
document.getElementById("greenCount").textContent = `Green: ${green}`;
document.getElementById("yellowCount").textContent = `Yellow: ${yellow}`;
document.getElementById("redCount").textContent = `Red: ${red}`;
</script>

</body>
</html>
